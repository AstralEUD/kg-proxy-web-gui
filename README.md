# KG-Proxy Web GUI (ArmaGuard)

**ArmaGuard**ëŠ” ê³ ì„±ëŠ¥ ê²Œì„ ì„œë²„(Arma 3, Reforger ë“±)ë¥¼ ìœ„í•œ **DDoS ë°©ì–´ í”„ë¡ì‹œ ë° ê´€ë¦¬ ì‹œìŠ¤í…œ**ì…ë‹ˆë‹¤. 
WireGuard VPN í„°ë„ë§, eBPF/XDP ê¸°ë°˜ì˜ ê³ ì† íŠ¸ë˜í”½ í•„í„°ë§, ê·¸ë¦¬ê³  ì§ê´€ì ì¸ ì›¹ GUIë¥¼ ê²°í•©í•˜ì—¬ ì„œë²„ë¥¼ ë³´í˜¸í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤.

![Version](https://img.shields.io/badge/version-1.1-blue) ![Go](https://img.shields.io/badge/backend-Go_1.21-00ADD8) ![React](https://img.shields.io/badge/frontend-React_18-61DAFB) ![License](https://img.shields.io/badge/license-Private-red)

## âœ¨ í•µì‹¬ ê¸°ëŠ¥

### ğŸ›¡ï¸ ê°•ë ¥í•œ ë³´ì•ˆ ë° DDoS ë°©ì–´
*   **eBPF/XDP íŠ¸ë˜í”½ í•„í„°ë§**: ì»¤ë„ ë ˆë²¨ì—ì„œ íŒ¨í‚·ì„ ì²˜ë¦¬í•˜ì—¬ ì˜¤ë²„í—¤ë“œ ì—†ì´ ê³ ì† í•„í„°ë§ ìˆ˜í–‰.
*   **ë‹¤ê³„ì¸µ ë°©ì–´ ì‹œìŠ¤í…œ**:
    *   **L3/L4 ë°©ì–´**: Invalid packets, TCP Flags ê²€ì¦, Bogon IP ì°¨ë‹¨.
    *   **Flood Protection**: 
        *   **UDP Flood**: `hashlimit` ê¸°ë°˜ IPë‹¹ 120,000pps (ì•½ 100Mbps) ì œí•œìœ¼ë¡œ ë³¼ë¥¨ ê³µê²© ë°©ì–´.
        *   **ICMP Flood**: IPë‹¹ 5pps ì œí•œìœ¼ë¡œ Ping Flood ì°¨ë‹¨.
        *   **SYN Flood**: SYN Cookie ë° Connection Limit ì ìš©.
    *   **GeoIP ì°¨ë‹¨**: êµ­ê°€ë³„ íŠ¸ë˜í”½ í—ˆìš©/ì°¨ë‹¨ (ê¸°ë³¸: í•œêµ­ KR í—ˆìš©).
    *   **ë¸”ë™ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬**: VPN, TOR, ì•…ì„± IP ëŒ€ì—­ ìë™/ìˆ˜ë™ ì°¨ë‹¨.

### ğŸ“Š ì‹¤ì‹œê°„ íŠ¸ë˜í”½ ë¶„ì„
*   **ë¼ì´ë¸Œ ëŒ€ì‹œë³´ë“œ**: ì´ˆë‹¹ íŒ¨í‚· ìˆ˜(PPS), ëŒ€ì—­í­, ì ‘ì† êµ­ê°€ë¥¼ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§.
*   **ìƒì„¸ íŠ¸ë˜í”½ ë¡œê·¸**: ì ‘ê·¼í•˜ëŠ” ëª¨ë“  IPì˜ ì†ŒìŠ¤ êµ­ê°€, ëŒ€ìƒ í¬íŠ¸(Service Type), ìœ„í—˜ë„ ì ìˆ˜(Risk Score) í‘œì‹œ.
*   **ì‹œê°í™”**: ì „ ì„¸ê³„ íŠ¸ë˜í”½ ìœ ì… í˜„í™©ì„ 2D ë§µìœ¼ë¡œ ì‹œê°í™”.

### ğŸ”— ì—°ê²° ê´€ë¦¬
*   **WireGuard í„°ë„ë§**: Origin(ê²Œì„ ì„œë²„)ê³¼ Proxy ê°„ì˜ ì•ˆì „í•œ ì•”í˜¸í™” í„°ë„ ìë™ êµ¬ì„±.
*   **í¬íŠ¸ í¬ì›Œë”© ìë™í™”**: ê²Œì„ í¬íŠ¸(UDP/TCP), Query í¬íŠ¸ ë“±ì„ Origin ì„œë²„ë¡œ ìë™ ì „ë‹¬ (NAT).
*   **ì„œë¹„ìŠ¤ í—¬ìŠ¤ ì²´í¬**: ë°±ì—”ë“œ ì—°ê²° ìƒíƒœ ë° ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ëª¨ë‹ˆí„°ë§.

---

## ğŸ›  ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

### ìš´ì˜ ì„œë²„ (Linux)
*   **OS**: Ubuntu 22.04 LTS ë˜ëŠ” Debian 12+ (ì»¤ë„ 5.15+ ê¶Œì¥)
*   **CPU/RAM**: ìµœì†Œ 2 vCPU / 4GB RAM (eBPF ë§µ ë©”ëª¨ë¦¬ ë° íŠ¸ë˜í”½ ì²˜ë¦¬ìš©)
*   **Network**: VirtIO (KVM) ë˜ëŠ” ë„¤ì´í‹°ë¸Œ ì¸í„°í˜ì´ìŠ¤ (eBPF ì§€ì› í•„ìˆ˜)
*   **íŒ¨í‚¤ì§€**:
    *   `wireguard`, `wireguard-tools`
    *   `iptables`, `ipset`
    *   `llvm`, `clang`, `libbpf-dev` (eBPF ì»´íŒŒì¼ìš© - ë°°í¬íŒì— í¬í•¨ë¨)

### ê°œë°œ í™˜ê²½
*   **Mock Mode**: Windows/macOSì—ì„œëŠ” ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ ì œì–´ ëŒ€ì‹  ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„°ë¡œ UI/ë¡œì§ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥.

---

## ğŸ“¦ ì„¤ì¹˜ ë° ë°°í¬

### 1. ë¹Œë“œ (Local)
ì´ í”„ë¡œì íŠ¸ëŠ” Go ë°±ì—”ë“œì™€ React í”„ë¡ íŠ¸ì—”ë“œë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```bash
# ì €ì¥ì†Œ ë³µì œ
git clone https://github.com/AstralEUD/kg-proxy-web-gui.git
cd kg-proxy-web-gui

# ìë™ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ (Windows: PowerShell)
./package.ps1
```
ìœ„ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë°±ì—”ë“œ(Linuxìš© Cross-compile)ì™€ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ë¹Œë“œí•˜ê³  `pkg/` í´ë”ì— ë°°í¬ íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.

### 2. ì„œë²„ ì„¤ì¹˜ (Linux)
ìƒì„±ëœ ë°°í¬ íŒŒì¼ë“¤ê³¼ `install.sh`ë¥¼ ì„œë²„ `/opt/kg-proxy` ë“±ìœ¼ë¡œ ì—…ë¡œë“œí•œ í›„ ì‹¤í–‰í•©ë‹ˆë‹¤.

```bash
chmod +x install.sh
sudo ./install.sh
```
ìŠ¤í¬ë¦½íŠ¸ëŠ” ìë™ìœ¼ë¡œ ë‹¤ìŒì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:
1.  í•„ìˆ˜ ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ì„¤ì¹˜ (`wireguard`, `ipset`, `iptables` ë“±)
2.  Systemd ì„œë¹„ìŠ¤ ë“±ë¡ (`kg-proxy.service`)
3.  eBPF í”„ë¡œê·¸ë¨ ë¡œë“œ ë° ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ ë¶€ì°©
4.  ë°©í™”ë²½ ì´ˆê¸° ì„¤ì • ë° ì„œë¹„ìŠ¤ ì‹œì‘

---

## âš™ï¸ ì£¼ìš” ì„¤ì • ê°€ì´ë“œ

### 1. ê´€ë¦¬ì ê³„ì • ìƒì„±
ìµœì´ˆ ì„¤ì¹˜ í›„ DBê°€ ì´ˆê¸°í™”ë˜ë©´ ê¸°ë³¸ ê´€ë¦¬ì ê³„ì •ì´ ì—†ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ì°¸ì¡° ë˜ëŠ” ë¡œê·¸ í™•ì¸)

### 2. Origin ì„œë²„ ë“±ë¡
1.  ì›¹ GUIì˜ **Origins** ë©”ë‰´ë¡œ ì´ë™í•©ë‹ˆë‹¤.
2.  ê²Œì„ ì„œë²„ì˜ ì´ë¦„ê³¼ WireGuard ë‚´ë¶€ IP(ì˜ˆ: `10.200.0.2`)ë¥¼ í• ë‹¹í•©ë‹ˆë‹¤.
3.  ìƒì„±ëœ **Public Key**ë¥¼ ë³µì‚¬í•˜ì—¬ ê²Œì„ ì„œë²„ ì¸¡ WireGuard ì„¤ì •ì— ì¶”ê°€í•©ë‹ˆë‹¤.

### 3. ì„œë¹„ìŠ¤ í¬íŠ¸ ì—°ê²°
1.  **Services** ë©”ë‰´ì—ì„œ ê²Œì„ í¬íŠ¸(ì˜ˆ: Arma3 2302 UDP)ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.
2.  **Firewall > Apply Rules**ë¥¼ í´ë¦­í•˜ì—¬ ë°©í™”ë²½ ê·œì¹™ì„ ê°±ì‹ í•©ë‹ˆë‹¤.
    *   ì´ë•Œ ìë™ìœ¼ë¡œ `NAT` í…Œì´ë¸”ì— í¬íŠ¸ í¬ì›Œë”© ê·œì¹™ì´, `Mangle` í…Œì´ë¸”ì— ë°©ì–´ ê·œì¹™ì´ ìƒì„±ë©ë‹ˆë‹¤.

---

## ğŸ” íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### íŠ¸ë˜í”½ì´ ì°¨ë‹¨ë˜ëŠ” ê²½ìš°
*   **Traffic** ë©”ë‰´ì˜ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì°¨ë‹¨ëœ IP(Blocked)ë¥¼ í™•ì¸í•˜ì„¸ìš”.
*   **Status > Firewall Rules**ì—ì„œ `iptables` ê·œì¹™ì„ í™•ì¸í•˜ì„¸ìš”.
    *   `iptables -t mangle -L -n -v`: DDoS ë°©ì–´ ê·œì¹™ ì¹´ìš´í„° í™•ì¸
    *   `iptables -t nat -L -n -v`: í¬íŠ¸ í¬ì›Œë”© íŒ¨í‚· ì¹´ìš´í„° í™•ì¸

### eBPF ë¡œë“œ ì‹¤íŒ¨
```bash
# ë¡œê·¸ í™•ì¸
journalctl -u kg-proxy -f | grep eBPF
```
*   ì»¤ë„ ë²„ì „ì´ ë„ˆë¬´ ë‚®ê±°ë‚˜(5.4 ë¯¸ë§Œ), `xdp`ë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë„¤íŠ¸ì›Œí¬ ë“œë¼ì´ë²„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
*   ëŒ€ë¶€ë¶„ì˜ í´ë¼ìš°ë“œ VPS(Vultr, AWS, GCP)ì˜ ìµœì‹  ìš°ë¶„íˆ¬ ì´ë¯¸ì§€ëŠ” ì§€ì›í•©ë‹ˆë‹¤.

### ë°ì´í„°ë² ì´ìŠ¤ ë¦¬ì…‹
ë¬¸ì œê°€ ë°œìƒí•˜ì—¬ ì´ˆê¸°í™”ê°€ í•„ìš”í•œ ê²½ìš°:
```bash
systemctl stop kg-proxy
rm /opt/kg-proxy/armaguard.db
systemctl start kg-proxy
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
kg-proxy-web-gui/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ ebpf/             # XDP C ì†ŒìŠ¤ ì½”ë“œ (bpf2goë¡œ ì»´íŒŒì¼)
â”‚   â”œâ”€â”€ handlers/         # API ì—”ë“œí¬ì¸íŠ¸ ë¡œì§
â”‚   â”œâ”€â”€ services/         # í•µì‹¬ ë¡œì§ (Firewall, WireGuard, EBPF)
â”‚   â”œâ”€â”€ models/           # DB ìŠ¤í‚¤ë§ˆ (GORM)
â”‚   â””â”€â”€ system/           # OS ëª…ë ¹ì–´ ì‹¤í–‰ ë˜í¼
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/pages/        # ëŒ€ì‹œë³´ë“œ, ì •ì±…, íŠ¸ë˜í”½ ë“± í™”ë©´
â”‚   â””â”€â”€ src/components/   # ì‹œê°í™” ì»´í¬ë„ŒíŠ¸ (ServicePipe, WorldMap ë“±)
â””â”€â”€ scripts/              # ì„¤ì¹˜ ë° ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸
```

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤
Private Project. All rights reserved.
